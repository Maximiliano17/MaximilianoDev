<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portafolio Windows</title>
    <style>
        /* --- CSS GENERAL --- */
        body {
            margin: 0;
            padding: 0;
            overflow: hidden;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: url('./old.jpg');
            background-repeat: no-repeat;
            background-position: center center;
            background-size: cover;
            user-select: none;
            height: 100vh;
        }

        /* --- ICONOS DEL ESCRITORIO --- */
        .desktop-icons {
            display: flex;
            flex-direction: column;
            /* <-- Hace que los elementos fluyan verticalmente */
            gap: 10px;
            padding: 10px;
            width: fit-content;
            height: 80vh;
            /* <-- Define la altura m√°xima de la columna */
            flex-wrap: wrap;
            /* <-- Permite que los elementos pasen a una nueva columna cuando se supera la altura */
            /* El background: red; lo puedes eliminar, solo era para debug */
        }

        .icon {
            text-align: center;
            cursor: default;
            color: white;
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.8);
            width: 74px;
            padding: 5px;
            border: 1px solid transparent;
            border-radius: 3px;
            box-sizing: border-box;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        /* Efecto Hover (pasar el mouse) */
        .icon:hover {
            background-color: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        /* Efecto Seleccionado (clic simple) */
        .icon.selected {
            background-color: rgba(255, 255, 255, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.5);
        }

        .icon img {
            width: 48px;
            height: 48px;
            margin-bottom: 2px;
            pointer-events: none;
            /* Evita arrastrar la imagen fantasma */
        }

        .icon div {
            font-size: 12px;
            line-height: 1.3;
        }

        /* --- VENTANAS (ESTILO AERO) --- */
        .window {
            position: absolute;
            top: 15%;
            left: 20%;
            width: 600px;
            height: 400px;
            background-color: rgba(240, 240, 240, 0.85);
            border-radius: 8px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            display: none;
            flex-direction: column;
            backdrop-filter: blur(8px);
            border: 1px solid rgba(255, 255, 255, 0.6);
            z-index: 10;
            transition: width 0.2s, height 0.2s, top 0.2s, left 0.2s;
            /* Animaci√≥n suave al maximizar */
        }

        /* Clase para cuando est√° maximizada */
        .window.maximized {
            top: 0 !important;
            left: 0 !important;
            width: 100% !important;
            height: calc(100% - 40px) !important;
            /* Restamos la barra de tareas */
            border-radius: 0;
        }

        .title-bar {
            padding: 6px 10px;
            background: linear-gradient(to bottom, rgba(255, 255, 255, 0.6) 0%, rgba(255, 255, 255, 0.3) 100%);
            border-top-left-radius: 7px;
            border-top-right-radius: 7px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: default;
        }

        .window.maximized .title-bar {
            border-radius: 0;
        }

        .title-text {
            font-weight: bold;
            color: #333;
            font-size: 13px;
            text-shadow: 0 0 10px white;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .window-controls {
            display: flex;
            gap: 4px;
        }

        .control-btn {
            width: 28px;
            height: 20px;
            border: 1px solid rgba(0, 0, 0, 0.1);
            border-radius: 3px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 10px;
            cursor: pointer;
            background: linear-gradient(to bottom, #fff, #e6e6e6);
            box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.8);
            transition: all 0.1s;
        }

        .control-btn:hover {
            box-shadow: 0 0 3px rgba(0, 100, 255, 0.5);
            border-color: #3c7fb1;
        }

        .control-btn:active {
            background: #ccc;
        }

        .close-btn {
            background: #e81123;
            color: white;
            border-color: #b00b18;
        }

        .close-btn:hover {
            background: #f04e5d;
            box-shadow: 0 0 3px #f04e5d;
            border-color: #b00b18;
        }

        /* Cuerpo de la ventana */
        .window-body {
            background-color: white;
            margin: 0 4px 4px 4px;
            flex: 1;
            /* Ocupa el resto del espacio */
            border: 1px solid #a9b6cc;
            display: flex;
            overflow: hidden;
        }

        /* Barra lateral (Sidebar) */
        .sidebar {
            width: 140px;
            background: #f0f4fa;
            border-right: 1px solid #dae5f0;
            padding: 10px;
            font-size: 12px;
            color: #333;
        }

        .sidebar ul {
            list-style: none;
            padding: 0;
            margin-top: 5px;
        }

        .sidebar li {
            padding: 4px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .sidebar li:hover {
            background: #e5f3fb;
            border: 1px solid #7da2ce;
            padding: 3px;
            border-radius: 2px;
        }

        .main-content {
            flex: 1;
            padding: 20px;
            font-size: 14px;
            line-height: 1.6;
            overflow-y: auto;
            background: white;
        }

        /* Notepad Espec√≠fico */
        .notepad-area {
            width: 100%;
            height: 100%;
            border: none;
            resize: none;
            font-family: 'Consolas', monospace;
            padding: 10px;
            outline: none;
            font-size: 14px;
        }

        /* --- BARRA DE TAREAS --- */
        .taskbar {
            position: absolute;
            bottom: 0;
            width: 100%;
            height: 40px;
            background: linear-gradient(to bottom, rgba(20, 30, 45, 0.9) 0%, rgba(10, 10, 10, 1) 100%);
            display: flex;
            align-items: center;
            justify-content: space-between;
            border-top: 1px solid rgba(255, 255, 255, 0.3);
            z-index: 9999;
        }

        .start-button {
            width: 40px;
            height: 40px;
            display: flex;
            justify-content: center;
            align-items: center;
            padding-left: 10px;
        }

        .start-button img {
            width: 80%;
            height: 80%;
            object-fit: contain;
        }

        .start-button:hover {
            filter: brightness(1.2);
        }

        .clock {
            color: white;
            font-size: 12px;
            margin-right: 15px;
            text-align: center;
            line-height: 1.2;
            padding: 5px 10px;
            border-radius: 4px;
        }

        .clock:hover {
            background: rgba(255, 255, 255, 0.1);
            cursor: default;
        }

        /* --- MEN√ö INICIO (OCULTO) --- */
        .start-menu {
            position: absolute;
            bottom: 40px;
            left: 0;
            width: 300px;
            height: 400px;
            background-color: rgba(240, 240, 240, 0.95);
            border: 1px solid #777;
            border-top-right-radius: 8px;
            border-top-left-radius: 8px;
            display: none;
            z-index: 9998;
            box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.5);
            padding: 10px;
        }

        .user-pic {
            width: 40px;
            height: 40px;
            background: #ccc;
            border-radius: 5px;
            border: 2px solid white;
            position: absolute;
            top: -20px;
            right: 20px;
        }

        /* --- ESTILOS INTERNOS DE LA VENTANA DE EXPERIENCIA --- */
        .folder-grid {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            padding: 10px;
        }

        /* Iconos dentro de la ventana (similares a los del escritorio pero texto oscuro) */
        .win-icon {
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 80px;
            padding: 5px;
            border: 1px solid transparent;
            border-radius: 3px;
            cursor: pointer;
        }

        .win-icon:hover {
            background-color: #e5f3fb;
            border: 1px solid #70c0e7;
        }

        .win-icon img {
            width: 48px;
            height: 48px;
            margin-bottom: 5px;
        }

        .win-icon span {
            text-align: center;
            font-size: 12px;
            color: #333;
            word-wrap: break-word;
        }

        /* Barra de navegaci√≥n estilo explorador (El bot√≥n atr√°s) */
        .explorer-nav {
            display: flex;
            align-items: center;
            padding-bottom: 10px;
            margin-bottom: 10px;
            border-bottom: 1px solid #dae5f0;
        }

        .back-btn {
            background: transparent;
            border: 1px solid #ccc;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            cursor: pointer;
            font-weight: bold;
            color: #555;
            margin-right: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .back-btn:hover {
            background-color: #e5f3fb;
            border-color: #70c0e7;
            color: #0066cc;
        }

        /* El √°rea donde se muestra el texto del trabajo */
        .file-content {
            animation: fadeIn 0.3s;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }

            to {
                opacity: 1;
            }
        }

        /* --- ESTILOS PARA LAS TARJETAS DE RECOMENDACI√ìN --- */
        .recommendation-card {
            border: 1px solid #ccc;
            background-color: #f9f9f9;
            padding: 15px;
            margin-bottom: 20px;
            border-radius: 4px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }

        .recommendation-card h4 {
            margin-top: 0;
            margin-bottom: 5px;
            color: #004d99;
            /* Azul de Windows */
            font-size: 16px;
            font-weight: 600;
        }

        .recommendation-card p {
            font-size: 14px;
            margin: 10px 0;
            color: #333;
        }

        .recommendation-card .source-info {
            display: block;
            text-align: right;
            font-size: 11px;
            color: #666;
        }

        /* Asegura que el contenido se pueda desplazar si hay muchas recomendaciones */
        .main-content {
            /* Mantenemos el flex: 1 y solo aseguramos el overflow */
            overflow-y: auto;
        }

        /* --- AJUSTES RESPONSIVE PARA M√ìVILES Y TABLETAS --- */
        @media (max-width: 768px) {

            /* 1. Ajuste General de las Ventanas */
            .window {
                /* Ignoramos el 'top' y 'left' definido en l√≠nea y centramos */
                top: 20px !important;
                left: 5% !important;

                /* Ocupar casi todo el ancho y alto de la pantalla */
                width: 90% !important;
                height: calc(100% - 70px) !important;
                /* Deja espacio para la barra de tareas */

                /* Aseguramos que se pueda deslizar el contenido de la ventana si es necesario */
                overflow: hidden;

                /* Opcional: Quitamos la transici√≥n para que se abran m√°s r√°pido en m√≥viles */
                transition: none;
            }

            /* 2. Ajuste de la Barra Lateral dentro de la Ventana */
            .sidebar {
                /* Hacemos la barra lateral m√°s estrecha para dejar m√°s espacio al contenido */
                width: 80px;
            }

            /* 3. Optimizaci√≥n del Escritorio (Opcional) */
            .desktop-icons {
                /* En m√≥viles, es mejor que los iconos fluyan en filas (horizontalmente) */
                flex-direction: row;
                flex-wrap: wrap;
                height: auto;
                /* Ya no necesitamos una altura fija */
                padding-bottom: 50px;
                /* Evitar que la barra de tareas tape los iconos inferiores */
            }

            /* 4. Reducir texto de los iconos */
            .icon div {
                font-size: 10px;
            }

        }

        /* --- ESTILOS PARA LA VENTANA DE EDUCACI√ìN --- */
        .certificate-container {
            max-width: 100%;
            max-height: 80%;
            overflow: hidden;
            /* Oculta cualquier desbordamiento si la imagen es muy grande */
            border: 1px solid #ccc;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            margin-bottom: 10px;
        }

        .certificate-img {
            width: 100%;
            height: auto;
            display: block;
        }

        .privacy-note {
            color: #666;
            font-size: 11px;
            margin-top: auto;
            /* Empuja la nota hacia el pie del main-content */
        }

        /* --- ESTILOS PARA LA VENTANA DEL CERTIFICADO (IMAGEN) --- */
        .image-viewer-content {
            flex-grow: 1;
            /* Permite que el contenedor de la imagen ocupe el espacio disponible */
            display: flex;
            justify-content: center;
            align-items: center;
            width: 100%;
            /* Remueve el borde si tu imagen ya tiene uno o si prefieres un look m√°s limpio */
            /* border: 1px solid #ddd; */
            background-color: #fff;
            /* Fondo blanco para la imagen */
            overflow: hidden;
            /* Asegura que la imagen no se desborde si es muy grande */
            margin-bottom: 10px;
        }

        .certificate-display-img {
            max-width: 95%;
            /* Asegura que la imagen no sea m√°s ancha que su contenedor */
            max-height: 95%;
            /* Asegura que la imagen no sea m√°s alta que su contenedor */
            object-fit: contain;
            /* Ajusta la imagen sin recortarla, manteniendo sus proporciones */
            display: block;
            /* Elimina espacio extra debajo de la imagen */
        }

        .image-caption {
            font-size: 11px;
            color: #666;
            text-align: center;
            margin-top: 5px;
            padding: 0 10px;
        }

        /* Ajustes para el main-content de esta ventana espec√≠fica si es necesario */
        #win-certificate .window-body {
            padding: 0;
            /* Quitamos el padding del body para que la imagen ocupe m√°s espacio */
        }

        /* --- ESTILOS PARA LA APARIENCIA DE CERTIFICADO --- */
        .css-certificate-frame {
            width: 90%;
            max-width: 600px;
            height: 90%;
            padding: 30px;
            border: 10px solid #c9a75b;
            /* Borde principal dorado/marr√≥n */
            background: #fffdf5;
            /* Fondo ligeramente crema */
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
            box-sizing: border-box;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .certificate-content {
            text-align: center;
            width: 100%;
            padding: 20px;
            border: 2px dashed #b8860b;
            /* Borde interno ornamental */
        }

        /* Tipograf√≠a y jerarqu√≠a */
        .cert-title {
            font-family: 'Georgia', serif;
            font-size: 14px;
            color: #333;
            margin-bottom: 25px;
        }

        .cert-name {
            font-family: 'Times New Roman', serif;
            font-size: 32px;
            color: #4b0082;
            /* Color morado oscuro para destacar */
            margin: 10px 0 5px;
            text-transform: uppercase;
        }

        .cert-achievement {
            font-style: italic;
            color: #555;
            font-size: 16px;
            margin-top: 20px;
            margin-bottom: 15px;
        }

        .cert-diploma {
            font-family: 'Arial Black', sans-serif;
            font-size: 22px;
            color: #8b0000;
            /* Color rojo oscuro para el t√≠tulo */
            margin: 10px 0 30px;
            border-bottom: 2px solid #b8860b;
            padding-bottom: 5px;
            display: inline-block;
        }

        .cert-school,
        .cert-institution {
            font-size: 14px;
            color: #666;
            margin: 3px 0;
        }

        .cert-signature-area {
            margin-top: 50px;
            display: flex;
            justify-content: space-around;
            font-size: 12px;
            color: #444;
        }

        .cert-signature-area p {
            width: 40%;
            border-top: 1px solid #aaa;
            padding-top: 5px;
            text-align: center;
        }

        .image-caption {
            /* Mantenemos el estilo para el pie de p√°gina */
            font-size: 11px;
            color: #666;
            text-align: center;
            margin-top: 5px;
            padding: 0 10px;
            width: 100%;
            box-sizing: border-box;
        }

        /* Estilos para que los enlaces del men√∫ de inicio sean clickeables y reactivos */
        .start-menu-link {
            padding: 5px;
            cursor: pointer;
            color: black;
            /* Asegura que el texto se vea bien */
            margin: 0;
            /* Elimina m√°rgenes extra si existen */
        }

        .start-menu-link:hover {
            background: #ccc;
            /* Fondo gris claro al pasar el rat√≥n */
        }

        /* Es importante que tu estilo .start-menu tenga una anchura definida */
        .start-menu {
            /* ... otros estilos ... */
            width: 200px;
            /* Ejemplo de ancho */
            /* ... otros estilos ... */
        }

        /* --- ESTILOS PARA EL MODAL DE ALERTA DE WINDOWS --- */
        #custom-alert {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.4);
            /* Fondo semi-transparente */
            display: flex;
            justify-content: center;
            align-items: center;
            pointer-events: auto;
            /* Asegura que se pueda interactuar */
        }

        .custom-alert-box {
            width: 350px;
            background-color: #f0f0f0;
            /* Color de fondo de las ventanas de Windows */
            border: 1px solid #003c78;
            /* Borde oscuro */
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
            display: flex;
            flex-direction: column;
        }

        .custom-alert-title-bar {
            /* Mismo estilo que tu title-bar principal, pero adaptado */
            background: linear-gradient(to bottom, #86a6c2, #476a8b);
            padding: 5px;
            color: white;
            font-weight: bold;
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: default;
            /* No se arrastra, es una alerta */
            border-bottom: 1px solid #333;
        }

        .custom-alert-title-text {
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .custom-alert-body {
            padding: 15px;
        }

        .custom-alert-content {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
        }

        .custom-alert-content p {
            margin: 0;
            font-size: 13px;
        }

        .custom-alert-footer {
            text-align: center;
        }

        .custom-alert-footer button {
            padding: 5px 20px;
            background-color: #e0e0e0;
            border: 1px solid #6c6c6c;
            box-shadow: 1px 1px 0 #fff inset, -1px -1px 0 #999 inset;
            cursor: pointer;
            font-weight: bold;
        }

        .custom-alert-footer button:active {
            background-color: #ccc;
            box-shadow: 1px 1px 0 #999 inset, -1px -1px 0 #fff inset;
        }

        /* --- ESTILOS ADICIONALES PARA EL PAINT MEJORADO --- */
.paint-toolbar {
    padding: 8px 10px;
    background-color: #e0e0e0; 
    border-bottom: 1px solid #ccc;
    display: flex;
    align-items: center;
    gap: 10px;
    flex-wrap: wrap; 
}

.tool-btn {
    padding: 4px 8px;
    background-color: #e0e0e0;
    border: 1px solid #888;
    cursor: pointer;
    /* Estilo de bot√≥n de Windows */
    box-shadow: 1px 1px 0 #fff inset, -1px -1px 0 #999 inset;
}

.tool-btn:active {
    background-color: #c0c0c0;
    box-shadow: 1px 1px 0 #999 inset, -1px -1px 0 #fff inset;
}

.tool-btn.active {
    background-color: #c0c0c0; /* Fondo m√°s oscuro para indicar activo */
    border: 1px inset #000; /* Efecto de bot√≥n presionado */
    box-shadow: 1px 1px 0 #999 inset, -1px -1px 0 #fff inset;
}

/* Estilo para el input de texto que aparece en el canvas */
.canvas-text-input {
    padding: 2px;
    font-family: Arial, sans-serif;
    background-color: rgba(255, 255, 255, 0.8) !important;
    border: 1px dashed #0078d7 !important; 
    outline: none;
    z-index: 5;
    position: absolute;
}
    </style>
</head>

<body>

    <div id="start-menu" class="start-menu">
        <div class="user-pic" style="background: orange;"></div>
        <h3>Invitado</h3>
        <hr>

        <p class="start-menu-link" onclick="showCustomAlert('Error, seccion en desarrollo')">Im√°genes</p>

        <p class="start-menu-link" onclick="showCustomAlert('Error, seccion en desarrollo')">Documentos</p>

        <p class="start-menu-link" onclick="openWindowFromStart('win-games')">Juegos</p>
        <div style="position: absolute; bottom: 10px; right: 10px;">
            <button onclick="showCustomAlert('No se puede apagar, ¬°es una web!')">Apagar sistema</button>
        </div>
    </div>

    <div class="desktop-icons" id="desktop-area">

        <div class="icon" id="icon-profile" onclick="selectIcon('icon-profile', event)"
            ondblclick="openWindow('win-profile')">
            <img src="folder2.png" alt="Carpeta">
            <div>Valoraciones</div>
        </div>

        <div class="icon" id="icon-exp" onclick="selectIcon('icon-exp', event)" ondblclick="openWindow('win-exp')">
            <img src="folder2.png" alt="Carpeta">
            <div>Experiencia</div>
        </div>

        <div class="icon" id="icon-letter" onclick="selectIcon('icon-letter', event)"
            ondblclick="openWindow('win-letter')">
            <img src="https://cdn-icons-png.flaticon.com/512/2965/2965335.png" alt="Txt">
            <div>Carta.txt</div>
        </div>

        <div class="icon" id="icon-cv" onclick="selectIcon('icon-cv', event)" ondblclick="openWindow('win-cv')">
            <img src="https://cdn-icons-png.flaticon.com/512/337/337946.png" alt="PDF">
            <div>CV Maximiliano FullStack.pdf</div>
        </div>

        <a href="https://www.linkedin.com/in/maximilianodossantos/" target="_blank"
            style="text-decoration: none; color: white;" class="icon" id="icon-trash"
            onclick="selectIcon('icon-trash', event)">
            <img src="logotipo-de-linkedin.png" alt="Papelera">
            <div>Linkedin</div>
        </a>

        <a href="https://mail.google.com/mail/?view=cm&fs=1&to=maxidossantosburgos@gmail.com" target="_blank"
            style="text-decoration: none; color: white;" class="icon" id="icon-gmail"
            onclick="selectIcon('icon-gmail', event)">

            <img src="gmail.png" alt="Gmail">
            <div>Gmail</div>
        </a>

        <a href="https://github.com/Maximiliano17" target="_blank" style="text-decoration: none; color: white;"
            class="icon" id="icon-trash" onclick="selectIcon('icon-trash', event)">
            <img src="github.png" alt="Papelera">
            <div>Github</div>
        </a>

        <div class="icon" id="icon-trash" onclick="selectIcon('icon-trash', event)">
            <img src="papelera-de-reciclaje.png" alt="Papelera">
            <div>Papelera</div>
        </div>

        <div class="icon" id="icon-certificate" onclick="selectIcon('icon-certificate', event)">
            <img src="img.png" alt="Certificado">
            <div>Educaci√≥n</div>
        </div>

    </div>

    <div id="win-photos" class="window" style="top: 15%; left: 25%; width: 800px; height: 600px; display: none;"
        onmousedown="focusWindow('win-photos')">
        <div class="title-bar" onmousedown="startDrag(event, 'win-photos')">
            <div class="title-text">
                <img src="folder_pictures.png" width="16">
                Mis Fotos
            </div>
            <div class="window-controls">
                <div class="control-btn" onclick="minimizeWindow('win-photos')">_</div>
                <div class="control-btn" onclick="toggleMaximize('win-photos')">‚ñ°</div>
                <div class="control-btn close-btn" onclick="closeWindow('win-photos')">X</div>
            </div>
        </div>

        <div class="window-body" style="padding: 10px;">
            <div class="photo-gallery-view">
                <div class="photo-item">
                    <div class="photo-preview">
                        <img src="foto1.jpg" alt="Foto 1">
                    </div>
                    <div class="photo-details">
                        <p class="photo-name">Vacaciones_2024</p>
                        <p class="photo-type">JPG File</p>
                    </div>
                </div>

                <div class="photo-item">
                    <div class="photo-preview">
                        <img src="mi_perfil.png" alt="Perfil">
                    </div>
                    <div class="photo-details">
                        <p class="photo-name">Perfil</p>
                        <p class="photo-type">PNG File</p>
                    </div>
                </div>

            </div>
        </div>
    </div>

    <div id="win-certificate" class="window" style="top: 10%; left: 20%; width: 700px; height: 600px; display: none;"
        onmousedown="focusWindow('win-certificate')">
        <div class="title-bar" onmousedown="startDrag(event, 'win-certificate')">
            <div class="title-text">
                <img src="img.png" width="16">
                Diploma - T√©cnico en Inform√°tica
            </div>
            <div class="window-controls">
                <div class="control-btn" onclick="minimizeWindow('win-certificate')">_</div>
                <div class="control-btn" onclick="toggleMaximize('win-certificate')">‚ñ°</div>
                <div class="control-btn close-btn" onclick="closeWindow('win-certificate')">X</div>
            </div>
        </div>

        <div class="window-body" style="padding: 20px; display: flex; align-items: center; justify-content: center;">
            <div class="css-certificate-frame">
                <div class="certificate-content">
                    <p class="cert-title">CERTIFICADO DE FINALIZACI√ìN DE ESTUDIOS</p>

                    <h1 class="cert-name">Maximiliano Dos Santos</h1>

                    <p class="cert-achievement">ha completado satisfactoriamente el ciclo lectivo y ha obtenido el
                        t√≠tulo de:</p>

                    <h2 class="cert-diploma">T√©cnico en Inform√°tica Personal y Profesional</h2>

                    <p class="cert-institution">Expedido por:</p>
                    <p class="cert-school">Escuela T√©cnica N¬∞ 5 de Merlo</p>

                    <div class="cert-signature-area">
                        <p>Director/a</p>
                        <p>Secretario/a</p>
                    </div>
                </div>

            </div>
        </div>
        <p class="image-caption">
            <small><strong>Nota:</strong> Este es un certificado modelo sin datos sensibles. El t√≠tulo es
                **Genuino**.</small>
        </p>
    </div>

    <div id="win-cv" class="window" style="top: 10%; left: 15%; width: 800px; height: 550px;"
        onmousedown="focusWindow('win-cv')">
        <div class="title-bar" onmousedown="startDrag(event, 'win-cv')">
            <div class="title-text">
                <img src="https://cdn-icons-png.flaticon.com/512/337/337946.png" width="16">
                Visor de PDF - CV Maximiliano FullStack.pdf
            </div>
            <div class="window-controls">
                <div class="control-btn" onclick="minimizeWindow('win-cv')">_</div>
                <div class="control-btn" onclick="toggleMaximize('win-cv')">‚ñ°</div>
                <div class="control-btn close-btn" onclick="closeWindow('win-cv')">X</div>
            </div>
        </div>

        <div class="window-body" style="margin: 0;">
            <iframe src="CV Maximiliano FullStack.pdf" style="width: 100%; height: 100%; border: none;"
                title="Curriculum Vitae Maximiliano Dos Santos">
                Tu navegador no puede mostrar este PDF. Puedes <a href="CV Maximiliano FullStack.pdf"
                    target="_blank">descargarlo aqu√≠</a>.
            </iframe>
        </div>
    </div>

    <div id="win-profile" class="window" onmousedown="focusWindow('win-profile')" style="width: 700px; height: 500px;">
        <div class="title-bar" onmousedown="startDrag(event, 'win-profile')">
            <div class="title-text">
                <img src="folder2.png" width="16">
                Valoraciones
            </div>
            <div class="window-controls">
                <div class="control-btn" onclick="minimizeWindow('win-profile')">_</div>
                <div class="control-btn" onclick="toggleMaximize('win-profile')">‚ñ°</div>
                <div class="control-btn close-btn" onclick="closeWindow('win-profile')">X</div>
            </div>
        </div>
        <div class="window-body">
            <div class="sidebar">
                <ul>
                    <li style="font-weight:bold">Todas las Recomendaciones</li>
                    <li>Por Rol</li>
                    <li>Por Proyecto</li>
                </ul>
            </div>
            <div class="main-content">
                <h3>Archivos de Recomendaci√≥n <small style="color: gray;">(4 elementos)</small></h3>
                <hr>

                <div class="recommendation-card">
                    <h4>Denisse Molina <small>(Soporte en integraciones y QA tester)</small> [cite: 51]</h4>
                    <p style="font-style: italic;">"Trabajar con Maximiliano fue una experiencia muy grata. Es una
                        persona con gran calidad humana, siempre dispuesta a ayudar y a mantener un ambiente positivo en
                        el equipo." [cite: 51, 52]</p>
                    <a href="https://www.linkedin.com/in/maximilianodossantos/" target="_blank"
                        class="source-info">Fuente</a>
                </div>

                <div class="recommendation-card">
                    <h4>Dar√≠o Condori <small>(Desarrollador Backend)</small> [cite: 53]</h4>
                    <p style="font-style: italic;">"Trabajamos juntos en Moebius donde √©l se encarg√≥ del Frontend
                        (Angular) y yo del Backend (Laravel). Valoro su enfoque colaborativo, siempre dispuesto a
                        encontrar la soluci√≥n para integrar nuestros trabajos. Es un colega confiable y un profesional
                        con s√≥lidos conocimientos en Angular." [cite: 53, 54, 55]</p>
                    <a href="https://www.linkedin.com/in/maximilianodossantos/" target="_blank"
                        class="source-info">Fuente</a>
                </div>

                <div class="recommendation-card">
                    <h4>Ram√≥n Diaz <small>(Soporte IT ‚Äì Tester Manual QA)</small> [cite: 56]</h4>
                    <p style="font-style: italic;">"Me complace recomendar a Maximiliano por su destacado desempe√±o en
                        la resoluci√≥n de bugs en el proyecto para el cual colabor√©... Maximiliano demostr√≥ una habilidad
                        excepcional para comprender y solucionar problemas t√©cnicos de manera r√°pida y efectiva. Su
                        dedicaci√≥n y disposici√≥n para ayudar fueron notables." [cite: 56, 57, 58, 59]</p>
                    <a href="https://www.linkedin.com/in/maximilianodossantos/" target="_blank"
                        class="source-info">Fuente</a>
                </div>

                <div class="recommendation-card">
                    <h4>Juan Pablo Villalba <small>(React Native Dev)</small></h4>
                    <p style="font-style: italic;">"Maximiliano Dos Santos es un compa√±ero de equipo eficaz, que maneja
                        un gran nivel en programaci√≥n de varios tipos. Tiene una facilidad de aprendizaje y adaptaci√≥n
                        que le permiten reestructurar proyectos seg√∫n la necesidad. Es f√°cil trabajar a su lado; destaco
                        su compromiso al nunca fallar en una entrega, por m√°s complicada que esta sea."</p>
                    <a href="https://www.linkedin.com/in/maximilianodossantos/" target="_blank"
                        class="source-info">Fuente</a>
                </div>

            </div>
        </div>
    </div>

    <div id="win-games" class="window" style="top: 20%; left: 15%; width: 450px; height: 350px; display: none;"
        onmousedown="focusWindow('win-games')">
        <div class="title-bar" onmousedown="startDrag(event, 'win-games')">
            <div class="title-text">
                <img src="folder_games.png" width="16">
                Juegos
            </div>
            <div class="window-controls">
                <div class="control-btn" onclick="minimizeWindow('win-games')">_</div>
                <div class="control-btn" onclick="toggleMaximize('win-games')">‚ñ°</div>
                <div class="control-btn close-btn" onclick="closeWindow('win-games')">X</div>
            </div>
        </div>

        <div class="window-body" style="padding: 15px; display: flex; flex-wrap: wrap;">
            <div class="icon" id="icon-paint" onclick="selectIcon('icon-paint', event)"
                ondblclick="openWindow('win-paint')" style="width: 100px; height: 90px; margin-right: 20px;"
                onmouseover="this.style.backgroundColor='rgba(0, 120, 215, 0.1)'; this.style.border='1px dotted #0078d7';"
                onmouseout="this.style.backgroundColor='transparent'; this.style.border='1px solid transparent';">
                <img src="paint.png" alt="Paint">
                <div>Paint</div>
            </div>
        </div>
    </div>

   <div id="win-paint" class="window" style="top: 5%; left: 5%; width: 900px; height: 700px; display: none;" onmousedown="focusWindow('win-paint')">
    <div class="title-bar" onmousedown="startDrag(event, 'win-paint')">
        <div class="title-text">
            <img src="paint_icon.png" width="16">
Paint Sencillo
        </div>
        <div class="window-controls">
            <div class="control-btn" onclick="minimizeWindow('win-paint')">_</div>
            <div class="control-btn" onclick="toggleMaximize('win-paint')">‚ñ°</div>
            <div class="control-btn close-btn" onclick="closeWindow('win-paint')">X</div>
        </div>
    </div>
    
    <div class="window-body" style="padding: 0; display: flex; flex-direction: column;">
        
        <div class="paint-toolbar">
            
            <button id="tool-pencil" class="tool-btn active" onclick="setTool('pencil')">Pincel</button>
            <button id="tool-line" class="class="tool-btn" onclick="setTool('line')">L√≠nea</button>
            <button id="tool-rectangle" class="tool-btn" onclick="setTool('rectangle')">Rect√°ngulo</button>
            <button id="tool-text" class="tool-btn" onclick="setTool('text')">Texto</button>
            <button id="tool-bucket" class="tool-btn" onclick="setTool('bucket')">Relleno</button>
            
            <label style="margin-left: 20px;">Color: <input type="color" id="color-picker" value="#000000"></label>
            <label>Tama√±o: <input type="range" id="size-slider" min="1" max="50" value="10"></label>
            
            <button onclick="clearCanvas()">Nuevo</button>
            <button onclick="downloadDrawing()">Descargar PNG</button>
        </div>
        
        <div id="paint-drawing-area" style="flex-grow: 1; position: relative; background-color: white; border-top: 1px solid #ccc;">
            <canvas id="paint-canvas" style="display: block; width: 100%; height: 100%; cursor: crosshair;"></canvas>
            </div>
        
    </div>
</div>

    <div id="win-exp" class="window" style="top: 20%; left: 25%;" onmousedown="focusWindow('win-exp')">
        <div class="title-bar" onmousedown="startDrag(event, 'win-exp')">
            <div class="title-text">
                <img src="folder2.png" width="16">
                Experiencia Laboral
            </div>
            <div class="window-controls">
                <div class="control-btn" onclick="minimizeWindow('win-exp')">_</div>
                <div class="control-btn" onclick="toggleMaximize('win-exp')">‚ñ°</div>
                <div class="control-btn close-btn" onclick="closeWindow('win-exp')">X</div>
            </div>
        </div>

        <div class="window-body">
            <div class="sidebar">
                <ul>
                    <li onclick="showFolderView()">Escritorio</li>
                    <li onclick="showFolderView()" style="font-weight:bold">Mis Trabajos</li>
                    <li>Red Local</li>
                </ul>
            </div>

            <div class="main-content">

                <div id="exp-nav" class="explorer-nav" style="display: none;">
                    <div class="back-btn" onclick="showFolderView()" title="Atr√°s">‚Üê</div>
                    <span id="exp-path-text">Detalles</span>
                </div>

                <div id="view-folders" class="folder-grid">

                    <div class="win-icon" ondblclick="openJob('moebius')">
                        <img src="folder2.png" alt="Folder">
                        <span>Moebius</span>
                    </div>

                    <div class="win-icon" ondblclick="openJob('legalrun')">
                        <img src="folder2.png" alt="Folder">
                        <span>LegalRun</span>
                    </div>

                    <div class="win-icon" ondblclick="openJob('petzify')">
                        <img src="folder2.png" alt="Folder">
                        <span>Petzify App </span>
                    </div>

                </div>

                <div id="view-details" class="file-content" style="display: none;">
                    <h2 id="job-title" style="margin-top: 0;">T√≠tulo</h2>
                    <hr>
                    <div id="job-desc">Descripci√≥n...</div>
                </div>

            </div>
        </div>
    </div>


    <div id="win-letter" class="window" style="top: 25%; left: 30%; width: 500px; height: 350px;"
        onmousedown="focusWindow('win-letter')">
        <div class="title-bar" onmousedown="startDrag(event, 'win-letter')">
            <div class="title-text">
                <img src="https://cdn-icons-png.flaticon.com/512/2965/2965335.png" width="16">
                Carta de Presentaci√≥n - Bloc de notas
            </div>
            <div class="window-controls">
                <div class="control-btn" onclick="minimizeWindow('win-letter')">_</div>
                <div class="control-btn" onclick="toggleMaximize('win-letter')">‚ñ°</div>
                <div class="control-btn close-btn" onclick="closeWindow('win-letter')">X</div>
            </div>
        </div>
        <div class="window-body" style="flex-direction: column;">
            <div style="background:white; padding: 2px 10px; border-bottom:1px solid #ccc; font-size:11px; color:#333;">
                Archivo &nbsp; Edici√≥n &nbsp; Formato &nbsp; Ver &nbsp; Ayuda
            </div>
            <textarea class="notepad-area">
Estimado equipo de contrataci√≥n,

Soy Maximiliano Dos Santos, un apasionado desarrollador Front-End con mas de dos a√±os de experiencia, aunque se siente como toda una vida cuando has trabajado principalmente con Angular... (s√≠, lo s√©, pero no me juzguen, ¬°todos tenemos una historia dif√≠cil!).

Durante este tiempo, he tenido el privilegio de liderar equipos, ayudando a mis compa√±eros a crecer, aprender y, sobre todo, a sobrevivir a los bugs m√°s inesperados.

Me encanta la tecnolog√≠a, pero lo que realmente me motiva es el trabajo en equipo: compartir conocimientos, aportar soluciones creativas y construir productos que hagan la diferencia.

Busco un entorno en el que pueda aportar mi experiencia, creatividad y, claro, mi "alto nivel de uso de IA"... digo, digo, mis habilidades en programaci√≥n. üòâ

Si est√°n buscando a alguien con energ√≠a, ganas de innovar y una buena dosis de humor para aliviar los d√≠as de deploy, me encantar√≠a tener la oportunidad de conversar con ustedes.

¬°Hablemos pronto!

Saludos,
Maximiliano Dos Santos

            </textarea>
        </div>
    </div>

    <div class="taskbar">
        <div class="start-button" onclick="toggleStartMenu()" title="Inicio">
            <img src="WINDOWSlogo.png" />
        </div>
        <div class="clock" id="clock">12:00</div>
    </div>

    <div id="custom-alert" style="display: none;" onmousedown="focusWindow('custom-alert')">
        <div class="custom-alert-box">
            <div class="custom-alert-title-bar">
                <div class="custom-alert-title-text">
                    <img src="error_icon.png" width="16"> Error del sistema
                </div>
                <div class="window-controls">
                    <div class="control-btn close-btn" onclick="closeCustomAlert()">X</div>
                </div>
            </div>

            <div class="custom-alert-body">
                <div class="custom-alert-content">
                    <img src="warning_icon.png" width="32">
                    <p id="custom-alert-message">Mensaje de error.</p>
                </div>
                <div class="custom-alert-footer">
                    <button onclick="closeCustomAlert()">Aceptar</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // --- 1. L√ìGICA DE SELECCI√ìN Y APERTURA DE ICONOS (CORREGIDO) ---
        function selectIcon(id, event) {
            event.stopPropagation(); // Evita que el clic llegue al body y deseleccione

            const iconElement = document.getElementById(id);

            // 1. L√≥gica de APERTURA (Si ya est√° seleccionado, el segundo tap/click lo abre)
            if (iconElement.classList.contains('selected')) {

                // **Mapeo del Icono al ID de la Ventana:**
                let targetWindowId = null;

                // Mapeo de los iconos a sus ventanas correspondientes
                if (id === 'icon-profile') {
                    targetWindowId = 'win-profile'; // Recomendaciones
                } else if (id === 'icon-exp') {
                    targetWindowId = 'win-exp'; // Experiencia
                } else if (id === 'icon-letter') {
                    targetWindowId = 'win-letter'; // Carta
                } else if (id === 'icon-cv') {
                    targetWindowId = 'win-cv'; // CV PDF
                } else if (id === 'icon-certificate') { // <-- ¬°NUEVO CERTIFICADO!
                    targetWindowId = 'win-certificate';
                }

                if (targetWindowId) {
                    openWindow(targetWindowId);
                }

                // Quitar la selecci√≥n inmediatamente despu√©s de abrir
                iconElement.classList.remove('selected');
                return; // Detiene la funci√≥n aqu√≠
            }

            // 2. L√≥gica de UN SOLO CLIC (seleccionar)
            document.querySelectorAll('.icon').forEach(el => el.classList.remove('selected'));
            iconElement.classList.add('selected');
        }

        // Clic en cualquier parte del fondo deselecciona los iconos y cierra men√∫ inicio
        document.body.addEventListener('click', function (e) {
            // Si el clic NO fue en un icono
            if (!e.target.closest('.icon')) {
                document.querySelectorAll('.icon').forEach(el => el.classList.remove('selected'));
            }
            // Si el clic NO fue en el bot√≥n de inicio ni en el men√∫, cerrar men√∫
            if (!e.target.closest('.start-button') && !e.target.closest('.start-menu')) {
                document.getElementById('start-menu').style.display = 'none';
            }
        });

        // --- 2. GESTI√ìN DE VENTANAS (ABRIR, CERRAR, MIN, MAX) ---
        let zIndexCounter = 100;

        function openWindow(id) {
            const win = document.getElementById(id);
            win.style.display = 'flex';
            // Restaurar si estaba minimizada (opcional, aqu√≠ solo la mostramos)
            focusWindow(id);
        }

        function closeWindow(id) {
            document.getElementById(id).style.display = 'none';
        }

        function minimizeWindow(id) {
            // Efecto simple de desaparecer
            document.getElementById(id).style.display = 'none';
        }

        function toggleMaximize(id) {
            const win = document.getElementById(id);
            win.classList.toggle('maximized');
        }

        function focusWindow(id) {
            zIndexCounter++;
            document.getElementById(id).style.zIndex = zIndexCounter;
        }

        // --- 3. MEN√ö INICIO ---
        function toggleStartMenu() {
            const menu = document.getElementById('start-menu');
            if (menu.style.display === 'block') {
                menu.style.display = 'none';
            } else {
                menu.style.display = 'block';
                menu.style.zIndex = zIndexCounter + 1; // Siempre encima
            }
        }

        // --- 4. ARRASTRAR VENTANAS (DRAG & DROP MEJORADO) ---
        let isDragging = false;
        let currentWindow = null;
        let dragOffsetX = 0;
        let dragOffsetY = 0;

        function startDrag(e, id) {
            // Si est√° maximizada, no permitir arrastrar (comportamiento normal de windows)
            const win = document.getElementById(id);
            if (win.classList.contains('maximized')) return;

            e.preventDefault(); // Evita seleccionar texto
            currentWindow = win;
            focusWindow(id); // Traer al frente al empezar a arrastrar

            // Calcular d√≥nde hizo clic el mouse relativo a la ventana
            dragOffsetX = e.clientX - currentWindow.offsetLeft;
            dragOffsetY = e.clientY - currentWindow.offsetTop;

            isDragging = true;
        }

        document.addEventListener('mousemove', (e) => {
            if (isDragging && currentWindow) {
                // Mover la ventana
                currentWindow.style.left = (e.clientX - dragOffsetX) + 'px';
                currentWindow.style.top = (e.clientY - dragOffsetY) + 'px';
            }
        });

        document.addEventListener('mouseup', () => {
            isDragging = false;
            currentWindow = null;
        });

        // --- 5. RELOJ ---
        function updateClock() {
            const now = new Date();
            const time = now.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
            const date = now.toLocaleDateString();
            document.getElementById('clock').innerHTML = `${time}<br><span style="font-size:10px">${date}</span>`;
        }
        setInterval(updateClock, 1000);
        updateClock();

        // --- 6. DATOS DE EXPERIENCIA (MANTENIDOS) ---
        const jobsData = {
            'moebius': {
                title: "Moebius - Turismo y Gesti√≥n de Servicios",
                period: "Julio 2023 - Septiembre 2025 | Remoto 100%",
                content: `
            <p><strong>Rol: Desarrollador Frontend</strong></p>
            <p>Lider√© el desarrollo frontend del m√≥dulo de turismo y transporte, integr√°ndolo a la plataforma existente de gesti√≥n hotelera. Trabaj√© en conjunto con el equipo de Backend y QA para garantizar una implementaci√≥n estable.</p>
            
            <h4>Logros Destacados:</h4>
            <ul>
                <li><strong>Escalabilidad y Reutilizaci√≥n:</strong> Reduje el tiempo de desarrollo de nuevas vistas en un <strong>35%</strong> e increment√© la reutilizaci√≥n de componentes en un <strong>50%</strong>.</li>
                <li><strong>Optimizaci√≥n de Archivos:</strong> Elimin√© el <strong>100%</strong> de los casos de carga infinita y reduje los tiempos de subida en archivos grandes en un <strong>70%</strong>.</li>
                <li><strong>Consistencia de Dise√±o:</strong> Aument√© la claridad visual en un <strong>40%</strong> y disminu√≠ consultas de soporte en un <strong>25%</strong>.</li>
                <li><strong>Integraci√≥n PHP/MySQL:</strong> Mejor√© tiempos de carga en un <strong>30%</strong> y reduje errores de comunicaci√≥n en un <strong>60%</strong>.</li>
                <li><strong>Documentaci√≥n:</strong> Baj√© la curva de aprendizaje del equipo en un <strong>45%</strong>.</li>
            </ul>
        `
            },
            'legalrun': {
                title: "LegalRun - Gesti√≥n de Casos Legales",
                period: "Contrato por horas | Remoto 100%",
                content: `
            <p><strong>Rol: Desarrollador Full Stack Freelance</strong></p>
            <p>Plataforma para firmas legales en Latinoam√©rica. Mi rol se centr√≥ en el desarrollo de funcionalidades, mejora de m√≥dulos existentes y resoluci√≥n de incidencias cr√≠ticas en producci√≥n, con enfoque en velocidad y estabilidad.</p>
            
            <h4>Logros Destacados:</h4>
            <ul>
                <li><strong>Resoluci√≥n Cr√≠tica:</strong> Resolv√≠ bugs en producci√≥n en menos de <strong>5 horas</strong> en promedio.</li>
                <li><strong>Visualizaci√≥n Documental:</strong> Desarroll√© una modal interactiva que centraliz√≥ archivos, reduciendo el tiempo de b√∫squeda de documentos en un <strong>40%</strong>.</li>
                <li><strong>Capacitaci√≥n:</strong> Reduje la curva de adaptaci√≥n de nuevos desarrolladores en un <strong>50%</strong>.</li>
            </ul>
        `
            },
            'petzify': {
                title: "Petzify App ‚Äì Startup Propia",
                period: "Marzo 2023 - Diciembre 2023 ¬∑ 10 meses | H√≠brido",
                content: `
            <p><strong>Rol: Co-Fundador y Desarrollador Frontend</strong></p>
            <p>Aplicaci√≥n tipo red social para mascotas. Particip√© en todas las etapas: planificaci√≥n, desarrollo Full Stack (Node.js/Express.js/MongoDB), dise√±o UI/UX, testing y estrategia de lanzamiento.</p>

            <h4>Logros Destacados:</h4>
            <ul>
                <li><strong>Full Stack:</strong> Arquitectura estable con <strong>99% de tiempo de actividad</strong>.</li>
                <li><strong>Autenticaci√≥n Segura:</strong> Integraci√≥n de JWT, reduciendo intentos fallidos de login en un <strong>65%</strong>.</li>
                <li><strong>Geolocalizaci√≥n:</strong> Implement√© Google Maps API y WebSockets para un mapa en tiempo real de mascotas perdidas, reduciendo el tiempo de reporte en un <strong>70%</strong>.</li>
                <li><strong>Multiplataforma:</strong> Constru√≠ la app en **React.js y React Native (Expo)**, funcionando en **Android, iOS y Web** sin duplicaci√≥n de c√≥digo.</li>
                <li><strong>AWS:</strong> Configur√© Amazon S3 y ECS, mejorando la carga de archivos en un <strong>55%</strong>.</li>
                <li><strong>Comunidad:</strong> Logramos m√°s de <strong>800 usuarios</strong> en etapa beta y aumentamos la retenci√≥n semanal en un <strong>30%</strong>.</li>
            </ul>
        `
            }
        };

        function openJob(jobId) {
            const data = jobsData[jobId];
            if (!data) return;

            // 1. Ocultar carpetas
            document.getElementById('view-folders').style.display = 'none';

            // 2. Mostrar detalles y bot√≥n atr√°s
            document.getElementById('view-details').style.display = 'block';
            document.getElementById('exp-nav').style.display = 'flex';

            // 3. Llenar la informaci√≥n
            document.getElementById('job-title').innerText = data.title;
            // Se a√±ade el periodo de trabajo debajo del t√≠tulo
            document.getElementById('job-desc').innerHTML = `<p style="font-style: italic; color: #555;">${data.period}</p>` + data.content;
            document.getElementById('exp-path-text').innerText = "Mis Trabajos > " + data.title;
        }

        function openWindowFromStart(windowId) {
            openWindow(windowId); // Funci√≥n ya existente
            document.getElementById('start-menu').style.display = 'none'; // Cierra el men√∫
        }

        function showFolderView() {
            // 1. Mostrar carpetas
            document.getElementById('view-folders').style.display = 'flex';

            // 2. Ocultar detalles y bot√≥n atr√°s
            document.getElementById('view-details').style.display = 'none';
            document.getElementById('exp-nav').style.display = 'none';
        }

        function openCV(fileName) {
            // Abre el archivo en la misma pesta√±a.
            window.open(fileName, '_self');
        }

        function showCustomAlert(message) {
            // 1. Llenar el mensaje
            document.getElementById('custom-alert-message').innerText = message;

            // 2. Mostrar la alerta (la modal)
            const alertBox = document.getElementById('custom-alert');
            alertBox.style.display = 'flex';

            // 3. Opcional: Centrar la alerta din√°micamente o darle z-index alto
            zIndexCounter++;
            alertBox.style.zIndex = zIndexCounter + 500; // Asegurarse de que est√© encima de todo
        }

        function closeCustomAlert() {
            document.getElementById('custom-alert').style.display = 'none';
        }

        // --- 8. L√ìGICA DEL JUEGO (PAINT AVANZADO) ---
let currentTool = 'pencil'; // Estado inicial
let isDrawing = false;
let lastX = 0;
let lastY = 0;
let startX = 0;
let startY = 0;
let textInput = null; // Para el elemento input de texto

// Funci√≥n para cambiar la herramienta activa
function setTool(tool) {
    currentTool = tool;
    
    // 1. Limpiar el estado visual de los botones
    document.querySelectorAll('.tool-btn').forEach(btn => btn.classList.remove('active'));
    
    // 2. Activar el bot√≥n actual
    const activeBtn = document.getElementById(`tool-${tool}`);
    if (activeBtn) {
        activeBtn.classList.add('active');
    }

    const canvas = document.getElementById('paint-canvas');
    if (canvas) {
        // 3. Cambiar el cursor seg√∫n la herramienta
        canvas.style.cursor = (tool === 'text') ? 'text' : 
                              (tool === 'bucket') ? 'url(bucket_cursor.png), auto' : 
                              'crosshair';
    }
    
    // 4. Asegurarse de dibujar cualquier texto pendiente
    if (textInput) {
        const ctx = canvas.getContext('2d');
        drawText(ctx);
    }
}

// Funci√≥n para inicializar el Canvas al abrir la ventana
function initPaint() {
    const canvas = document.getElementById('paint-canvas');
    if (!canvas) return;

    const ctx = canvas.getContext('2d');
    const colorPicker = document.getElementById('color-picker');
    const sizeSlider = document.getElementById('size-slider');
    
    // Establecer la herramienta inicial
    setTool('pencil');

    // Inicializar el tama√±o del canvas y los settings
    function resizeCanvas() {
        canvas.width = canvas.offsetWidth;
        canvas.height = canvas.offsetHeight;
        // Re-aplicar settings despu√©s del resize
        ctx.strokeStyle = colorPicker.value;
        ctx.lineJoin = 'round';
        ctx.lineCap = 'round';
        ctx.lineWidth = sizeSlider.value;
    }
    window.removeEventListener('resize', resizeCanvas); // Evitar duplicados
    window.addEventListener('resize', resizeCanvas);
    resizeCanvas();
    
    // Contexto temporal para feedback de formas (l√≠nea punteada, etc.)
    let tempCanvas = null;
    let tempCtx = null;
    
    function initTempCanvas() {
        if (!tempCanvas) {
            tempCanvas = document.createElement('canvas');
            tempCanvas.id = 'temp-canvas';
            tempCanvas.style.position = 'absolute';
            tempCanvas.style.top = '0';
            tempCanvas.style.left = '0';
            tempCanvas.style.zIndex = 4;
            tempCanvas.style.pointerEvents = 'none';
            canvas.parentNode.appendChild(tempCanvas);
            tempCtx = tempCanvas.getContext('2d');
        }
        tempCanvas.width = canvas.width;
        tempCanvas.height = canvas.height;
    }

    // --- MANEJO CENTRAL DEL DIBUJO ---
    function handleDraw(e) {
        const rect = canvas.getBoundingClientRect();
        const x = e.clientX - rect.left;
        const y = e.clientY - rect.top;

        if (e.type === 'mousedown') {
            isDrawing = true;
            startX = x;
            startY = y;
            [lastX, lastY] = [x, y];
            
            // Dibujar cualquier texto pendiente antes de la nueva acci√≥n
            if (textInput) drawText(ctx);

            if (currentTool === 'bucket') {
                bucketFill(ctx);
                isDrawing = false; // El relleno es una acci√≥n de un solo clic
            } else if (currentTool === 'text') {
                placeText(e, canvas, ctx);
                isDrawing = false; // El texto es una acci√≥n de un solo clic
            } else if (currentTool === 'line' || currentTool === 'rectangle') {
                initTempCanvas();
                tempCtx.strokeStyle = colorPicker.value;
                tempCtx.lineWidth = sizeSlider.value;
                tempCtx.lineJoin = 'round';
                tempCtx.lineCap = 'round';
            }
        } 
        
        else if (e.type === 'mousemove' && isDrawing) {
            ctx.strokeStyle = colorPicker.value;
            ctx.lineWidth = sizeSlider.value;
            
            if (currentTool === 'pencil') {
                // Herramienta L√°piz/Pincel
                ctx.beginPath();
                ctx.moveTo(lastX, lastY);
                ctx.lineTo(x, y);
                ctx.stroke();
            } else if (currentTool === 'line' || currentTool === 'rectangle') {
                // Feedback de Formas (se dibuja en el canvas temporal)
                tempCtx.clearRect(0, 0, tempCanvas.width, tempCanvas.height);
                
                if (currentTool === 'line') {
                    tempCtx.beginPath();
                    tempCtx.moveTo(startX, startY);
                    tempCtx.lineTo(x, y);
                    tempCtx.stroke();
                } else if (currentTool === 'rectangle') {
                    const rectW = x - startX;
                    const rectH = y - startY;
                    tempCtx.strokeRect(startX, startY, rectW, rectH);
                }
            }
            [lastX, lastY] = [x, y];
        }
        
        else if (e.type === 'mouseup') {
            isDrawing = false;
            
            // Finalizar la forma en el canvas permanente
            if (currentTool === 'line' || currentTool === 'rectangle') {
                // 1. Limpiar el feedback temporal
                tempCtx.clearRect(0, 0, tempCanvas.width, tempCanvas.height);

                // 2. Dibujar en el canvas permanente
                ctx.strokeStyle = colorPicker.value;
                ctx.lineWidth = sizeSlider.value;

                if (currentTool === 'line') {
                    ctx.beginPath();
                    ctx.moveTo(startX, startY);
                    ctx.lineTo(lastX, lastY);
                    ctx.stroke();
                } else if (currentTool === 'rectangle') {
                    const rectW = lastX - startX;
                    const rectH = lastY - startY;
                    ctx.strokeRect(startX, startY, rectW, rectH);
                }
            }
        }
    }

    // Adjuntar todos los oyentes
    canvas.addEventListener('mousedown', handleDraw);
    canvas.addEventListener('mousemove', handleDraw);
    canvas.addEventListener('mouseup', handleDraw);
    canvas.addEventListener('mouseout', handleDraw);
}

// Sobrescribimos o extendemos la funci√≥n openWindow para inicializar Paint
const originalOpenWindow = openWindow;
openWindow = function(id) {
    originalOpenWindow(id);
    if (id === 'win-paint') {
        // Inicializar Paint despu√©s de que la ventana se haya mostrado
        setTimeout(initPaint, 100); 
    }
};

// --- Relleno (Bote de pintura) ---
function bucketFill(ctx) {
    // Implementaci√≥n simple: rellena todo el fondo
    ctx.fillStyle = document.getElementById('color-picker').value;
    ctx.fillRect(0, 0, ctx.canvas.width, ctx.canvas.height);
}

// --- Colocaci√≥n de Texto ---
function placeText(e, canvas, ctx) {
    // Si hay un input anterior, dibujarlo y quitarlo
    if (textInput) {
        drawText(ctx);
        canvas.parentNode.removeChild(textInput);
        textInput = null;
    }
    
    const rect = canvas.getBoundingClientRect();
    const x = e.clientX - rect.left;
    const y = e.clientY - rect.top;

    textInput = document.createElement('input');
    textInput.type = 'text';
    textInput.className = 'canvas-text-input';
    textInput.placeholder = 'Escribe aqu√≠ y presiona Enter...';
    
    // Posicionar el input en la ubicaci√≥n del clic
    textInput.style.position = 'absolute';
    textInput.style.left = `${x}px`;
    textInput.style.top = `${y - 15}px`; 
    
    // Estilos basados en la configuraci√≥n del Paint
    textInput.style.font = `${document.getElementById('size-slider').value * 2}px Arial, sans-serif`; // Usamos el slider para el tama√±o
    textInput.style.color = document.getElementById('color-picker').value;

    // Eventos para dibujar el texto
    textInput.onblur = () => drawText(ctx);
    textInput.onkeypress = (ev) => {
        if (ev.key === 'Enter') {
            drawText(ctx);
            textInput.blur();
        }
    };

    // A√±adir y enfocar
    document.getElementById('paint-drawing-area').appendChild(textInput);
    textInput.focus();
}

function drawText(ctx) {
    if (!textInput || !textInput.value) return;

    ctx.fillStyle = textInput.style.color;
    ctx.font = textInput.style.font;
    
    const canvasRect = ctx.canvas.getBoundingClientRect();
    const inputRect = textInput.getBoundingClientRect();
    const x = inputRect.left - canvasRect.left;
    const y = inputRect.top - canvasRect.top + 15; // Ajuste para la l√≠nea base
    
    ctx.fillText(textInput.value, x, y);
    
    // Eliminar el input
    textInput.parentNode.removeChild(textInput);
    textInput = null;
}

// --- Acciones del Canvas ---
function downloadDrawing() {
    const canvas = document.getElementById('paint-canvas');
    if (!canvas) {
        showCustomAlert('Error: El √°rea de dibujo no se ha cargado.');
        return;
    }
    const dataURL = canvas.toDataURL('image/png');
    const a = document.createElement('a');
    a.href = dataURL;
    a.download = 'mi_dibujo_windows.png';
    document.body.appendChild(a);
    a.click();
    document.body.removeChild(a);
}

function clearCanvas() {
    const canvas = document.getElementById('paint-canvas');
    if (canvas) {
        const ctx = canvas.getContext('2d');
        ctx.clearRect(0, 0, canvas.width, canvas.height);
    }
    // Tambi√©n limpia el canvas temporal si existe
    const tempCanvas = document.getElementById('temp-canvas');
    if (tempCanvas && tempCanvas.parentNode) {
        tempCanvas.parentNode.removeChild(tempCanvas);
    }
    // Asegurarse de que el color de fondo vuelva a blanco si se us√≥ el relleno
    const drawingArea = document.getElementById('paint-drawing-area');
    if (drawingArea) drawingArea.style.backgroundColor = 'white';
}
// --- FIN L√ìGICA PAINT AVANZADO ---
    </script>
</body>

</html>